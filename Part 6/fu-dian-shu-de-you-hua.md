## 浮点数的优化

本节为开发人员编写 FP 汇编代码提供了一些建议。在应用这些点时需要谨慎，因为建议可以针对特定的硬件部分。对于一个核心来说最优的代码序列在不同的硬件上可能是次优的。

* 避免在 Cortex-A9 处理器上混合使用 VFP 和 NEON 指令，因为在数据引擎之间的切换有很大的开销。
* 进出 VFP 系统控制寄存器 \(如 FPSCR\) 的操作通常不会出现在高性能代码中，也可能不会进行优化。如果可能的话，不能将它们放在时间关键的循环中。例如，对 Cortex-A9 处理器上的控制寄存器的访问是序列化的，如果在严格的循环或性能关键代码中使用，将对性能产生重大影响。
* 在时间关键循环中，必须同样避免整数处理器寄存器组和浮点寄存器组之间的寄存器传输。对于 Cortex-A8 处理器，从 VFP 寄存器到整数寄存器的寄存器转换尤其如此。
* Load/store multiple operations 优先于使用 multiple, individual floating-point loads and stores，以有效利用可用的传输带宽。



