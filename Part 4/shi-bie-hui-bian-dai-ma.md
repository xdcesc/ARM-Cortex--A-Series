## 识别汇编代码

当面对一段汇编语言源代码时，能够确定将使用哪个指令集以及它针对的是哪种汇编器是很有用的。

旧的 ARM 汇编语言代码可以提供三个（甚至四个）操作数指令（例如，`ADD R0, R1, R2`）或条件执行非分支指令（例如，`ADDNE R0, R0, #1`）。文件名扩展名通常是 .s 或 .S。

以更加新的 UAL 为标准的代码，将包含指令 `.syntax unified`，但在其他方面与传统的 ARM 汇编语言相似。符号 \# 在直接操作数前面可以省略。条件指令序列必须紧跟在第五章中描述的 IT 指令之前。这类代码可以汇编为固定大小的 32 位\(ARM\)指令，也可以汇编为混合大小的（16位和32位）Thumb 指令，这取决于汇编器指令 `.thumb` 或 `.arm` 。

有时，你会遇到用 16 位 Thumb 汇编语言编写的代码。它可以包含 `.code 16`、`.thumb` 或 `.thumb_func` 等指令，但不会指定 `.syntax unified`。它对大多数指令使用两个操作数，尽管 ADD 和 SUB 有时可以有三个操作数。分支值可以有判断条件地情况下执行。

根据 GCC 配置和命令行开关 \(`-marm` 或 `-mthumb`\)，可以为 Thumb 或 ARM 构建所有 GCC 内联汇编器代码类型，例比如 .c、.h、.cpp、.cxx和.c++。





